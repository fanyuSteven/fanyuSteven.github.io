<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-037" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/14/037/" class="article-date">
  <time class="dt-published" datetime="2024-09-14T02:47:02.000Z" itemprop="datePublished">2024-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/14/037/">37</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/14/037/" data-id="cm11k3dnn0000c8su2u3ucg2t" data-title="37" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/09/14/hello-world/" class="article-date">
  <time class="dt-published" datetime="2024-09-14T01:49:17.895Z" itemprop="datePublished">2024-09-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/09/14/hello-world/">37</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h3 id="0-请写下这一节课你学习到的内容：格式不限，回忆并复述是加强记忆的好方式！"><a href="#0-请写下这一节课你学习到的内容：格式不限，回忆并复述是加强记忆的好方式！" class="headerlink" title="0. 请写下这一节课你学习到的内容：格式不限，回忆并复述是加强记忆的好方式！"></a>0. 请写下这一节课你学习到的内容：格式不限，回忆并复述是加强记忆的好方式！</h3><p>经过上一节课的热身，相信大家对类和对象已经有了初步的认识。这节课通过几个主题来理解，面向对象编程。</p>
<p><strong>（一）self 是什么？</strong></p>
<p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Python&spm=1001.2101.3001.7020">Python</a> 的 self 相当于 C++ 的 this 指针。我们知道，类是图纸，而由类实例化出的对象才是真正可以住人的房子，这是我们上节课大的比方。我们还知道，根据一张图纸就可以设计出成千上万的房子，这些房子都长得差不多，因为它们都来自于同一张图纸，但是它们都有不同的主人，每个人都只可以回到自己的家，self 就相当于每个房子的门牌号，有了 self，就可以轻松的找到自己的房子，Python 的 self 参数就是同样的道理，由同一个类可以生成无数个对象，这些对象都长得很相似，因为它们都是来源于同一个类的属性和方法，当一个对象的方法被调用的时候，对象会将自身作为第一个参数传给 self 参数，接收到这个 self 参数的时候，Python 就知道你是哪一个对象在调用方法了。举例说明：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title class_">Ball</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">setName</span>(<span class="params">self, name</span>):</span><br><span class="line">		<span class="variable language_">self</span>.name = name</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">kick</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;我叫%s，该死的，谁踢我...&quot;</span>% <span class="variable language_">self</span>.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = Ball()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.setName(<span class="string">&quot;球A&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = Ball()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.setName(<span class="string">&quot;球B&quot;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.kick()</span><br><span class="line">我叫球A，该死的，谁踢我...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.kick()</span><br><span class="line">我叫球B，该死的，谁踢我...</span><br></pre></td></tr></table></figure>

<p>我们发现，在对象类定义这里，它的这些方法都有一个 self，我们生成两个实例化对象 a 和 b，这里都调用 kick() 方法，但是实现结果不一样，是因为 a.kick() 和 b.kick() 都有一个隐藏属性 self，会找到各自对应的 name，这些都是由Python 在背后默默的工作，你只需要在类的定义的时候把 self 写进第一个参数。</p>
<p><strong>（二）Python 的魔法方法</strong></p>
<p>你听说过Python 的魔法方法吗？据说，Python 的对象天生拥有一些神奇的方法，它们是面向对象的Python的一切……它们是可以给你的类增加魔力的特殊方法……如果你的对象实现了这些方法中的某一个，那么这个方法在特殊情况下被Python所调用，而这一切都是自动发生的……Python的这些具有魔力的方法总是会被双下划线所包围，我们今天介绍其中一个最基础的特殊方法：<strong>init</strong>(self)</p>
<p>对于Python的其它的魔法方法，我们后面会专门进行讲解。我们把__init__(self)方法称为构造方法，<strong>init</strong>(self)方法的魔力体现在只要实例化一个对象的时候，那么这个方法就会在对象被创建的时候自动调用。有过C++基础的同学就会知道，这就是构造函数。</p>
<p>其实实例化对象的时候是可以存入参数的，这些参数会自动的存入到__init__(self)方法中，</p>
<p><strong>init</strong>(self，param1，param2…)    #(默认不重写的形式就是__init__(self))</p>
<p>也就是我们这个魔法方法中，我们可以通过<strong>重写这个方法（如上）</strong>来自定义对象的初始化操作，说起来比较复杂，举例说明：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Ball</span>:</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">		<span class="variable language_">self</span>.name = name</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">kick</span>(<span class="params">self</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;我叫%s，该死的，谁踢我...&quot;</span>% <span class="variable language_">self</span>.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = Ball(<span class="string">&quot;土豆&quot;</span>)  <span class="comment">#因为重写了__init__(self)方法，实例化对象时需要一个参数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.kick()</span><br><span class="line">我叫土豆，该死的，谁踢我...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b = Ball()  <span class="comment">#这里没有传入参数就会报错，可以在定义类是给name设置默认参数</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#84&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    b = Ball()</span><br><span class="line">TypeError: __init__() missing <span class="number">1</span> required positional argument: <span class="string">&#x27;name&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>（三）公有和私有</strong></p>
<p>默认上来说，对象的属性和方法都是公开的，都是共有的，我们可以通过点（.）操作符来进行访问，举例说明：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">	name = <span class="string">&quot;来自江南的你&quot;</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Person()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.name</span><br><span class="line"><span class="string">&#x27;来自江南的你&#x27;</span></span><br></pre></td></tr></table></figure>

<p>为了实现类似于私有变量的特征，Python内部采用了一种叫做 name mangling（名字改编，名字重整）的技术，在Python 中定义私有变量只主要在变量名或函数名前加上“__”两个下划线，那么这个函数或变量就会为私有的了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">	__name = <span class="string">&quot;来自江南的你&quot;</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Person()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.__name</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#94&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    p.__name</span><br><span class="line">AttributeError: <span class="string">&#x27;Person&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;__name&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.name</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#95&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    p.name</span><br><span class="line">AttributeError: <span class="string">&#x27;Person&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;name&#x27;</span></span><br></pre></td></tr></table></figure>

<p>这时，p.__name 和 p.name 都无法访问对象的name属性，因为它们都找不到了，这样在外部就会将变量名隐藏起来，理论上如果要访问，就要从内部进行，可以这样写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	__name = <span class="string">&quot;来自江南的你&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">getName</span>(<span class="params">self</span>):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> <span class="variable language_">self</span>.__name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Person()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.getName()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;来自江南的你&#x27;</span></span><br></pre></td></tr></table></figure>

<p>上面的方法只是理论上的，其实只要你琢磨一下，name mangling 技术的意思就是名字改编、名字重整，那么应该不难发现，Python只是动了一下手脚，它把双下划线开头的变量改了名字而已，它自动是改成了 <strong>_类名__变量名</strong>（单下划线+类名+双下划线+变量名），如下 ：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	__name = <span class="string">&quot;来自江南的你&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Person()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p._Person__name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;来自江南的你&#x27;</span></span><br></pre></td></tr></table></figure>

<p> 所以说，Python的私有机制是伪私有，Python是没有权限控制的，所以变量是可以被外部调用的。</p>
<hr>
<h2 id="测试题"><a href="#测试题" class="headerlink" title="测试题"></a>测试题</h2><h3 id="0-以下代码体现了面向对象编程的什么特征？"><a href="#0-以下代码体现了面向对象编程的什么特征？" class="headerlink" title="0. 以下代码体现了面向对象编程的什么特征？"></a>0. 以下代码体现了面向对象编程的什么特征？</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;FishC.com&quot;</span>.count(<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>].count(<span class="number">1</span>)</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">18</span>).count(<span class="number">1</span>)</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>答：体现了面向对象编程的多态特征。</p>
<h3 id="1-当程序员不想把同一段代码写几次，他们发明了函数解决了这种情况。当程序员已经有了一个类，而又想建立一个非常相近的新类，他们会怎么做呢？"><a href="#1-当程序员不想把同一段代码写几次，他们发明了函数解决了这种情况。当程序员已经有了一个类，而又想建立一个非常相近的新类，他们会怎么做呢？" class="headerlink" title="1. 当程序员不想把同一段代码写几次，他们发明了函数解决了这种情况。当程序员已经有了一个类，而又想建立一个非常相近的新类，他们会怎么做呢？"></a>1. 当程序员不想把同一段代码写几次，他们发明了函数解决了这种情况。当程序员已经有了一个类，而又想建立一个非常相近的新类，他们会怎么做呢？</h3><p>答：他们会定义一个新类继承已有的这个类，这样子就只需要简单添加和重写需要的方法即可。<br>例如已有龟类，那么如果要新定义一个甲鱼类，我们只需要让甲鱼类继承已有的龟类，然后重写壳的属性为“软的”即可（据说甲鱼的壳是软的）。</p>
<h3 id="2-self参数的作用是什么？"><a href="#2-self参数的作用是什么？" class="headerlink" title="2. self参数的作用是什么？"></a>2. self参数的作用是什么？</h3><p>答：绑定方法，据说有了这个参数，Python 再也不会傻傻分不清是哪个对象在调用方法了，你可以认为方法中的 self 其实就是实例对象的唯一标志。</p>
<h3 id="3-如果我们不希望对象的属性或方法被外部直接引用，我们可以怎么做？"><a href="#3-如果我们不希望对象的属性或方法被外部直接引用，我们可以怎么做？" class="headerlink" title="3. 如果我们不希望对象的属性或方法被外部直接引用，我们可以怎么做？"></a>3. 如果我们不希望对象的属性或方法被外部直接引用，我们可以怎么做？</h3><p>答：我们可以在属性或方法名字前边加上双下划线，这样子从外部是无法直接访问到，会显示AttributeError错误。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">__name = <span class="string">&#x27;小甲鱼&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">getName</span>(<span class="params">self</span>):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> <span class="variable language_">self</span>.__name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Person()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.__name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#56&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    p.__name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AttributeError: <span class="string">&#x27;Person&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;__name&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.getName()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;小甲鱼&#x27;</span></span><br></pre></td></tr></table></figure>

<p>我们把getName方法称之为“访问器”。Python事实上是采用一种叫“name mangling”技术，将以双下划线开头的变量名巧妙的改了个名字而已，我们仍然可以在外部通过“_类名__变量名”的方式访问：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>p._Person__name<span class="string">&#x27;小甲鱼&#x27;</span></span><br></pre></td></tr></table></figure>

<p>当然我们并不提倡这种抬杠较真粗暴不文明的访问形式……</p>
<h3 id="4-类在实例化后哪个方法会被自动调用？"><a href="#4-类在实例化后哪个方法会被自动调用？" class="headerlink" title="4. 类在实例化后哪个方法会被自动调用？"></a>4. 类在实例化后哪个方法会被自动调用？</h3><p>答：__init__方法会在类实例化时被自动调用，我们称之为魔法方法。你可以重写这个方法，为对象定制初始化方案。</p>
<h3 id="5-请解释下边代码错误的原因："><a href="#5-请解释下边代码错误的原因：" class="headerlink" title="5. 请解释下边代码错误的原因："></a>5. 请解释下边代码错误的原因：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>:</span><br><span class="line">        name = <span class="string">&#x27;FishC&#x27;</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">myFun</span>(<span class="params">self</span>):</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Hello FishC!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>MyClass.name</span><br><span class="line"><span class="string">&#x27;FishC&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>MyClass.myFun()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;pyshell#6&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    MyClass.myFun()</span><br><span class="line">TypeError: myFun() missing <span class="number">1</span> required positional argument: <span class="string">&#x27;self&#x27;</span></span><br></pre></td></tr></table></figure>

<p>答：首先你要明白类、类对象、实例对象是三个不同的名词。<br>我们常说的类指的是类定义，由于“Python无处不对象”，所以当类定义完之后，自然就是类对象。在这个时候，你可以对类的属性（变量）进行直接访问（MyClass.name）。<br>一个类可以实例化出无数的对象（实例对象），Python 为了区分是哪个实例对象调用了方法，于是要求方法必须绑定（通过 self 参数）才能调用。而未实例化的类对象直接调用方法，因为缺少 self 参数，所以就会报错。</p>
<hr>
<h2 id="动动手"><a href="#动动手" class="headerlink" title="动动手"></a>动动手</h2><h3 id="0-按照以下要求定义一个游乐园门票的类，并尝试计算2个成人-1个小孩平日票价。"><a href="#0-按照以下要求定义一个游乐园门票的类，并尝试计算2个成人-1个小孩平日票价。" class="headerlink" title="0. 按照以下要求定义一个游乐园门票的类，并尝试计算2个成人+1个小孩平日票价。"></a>0. 按照以下要求定义一个游乐园门票的类，并尝试计算2个成人+1个小孩平日票价。</h3><ul>
<li>平日票价100元</li>
<li>周末票价为平日的120%</li>
<li>儿童半票</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Ticket</span>():</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, weekend=<span class="literal">False</span>, child=<span class="literal">False</span></span>):</span><br><span class="line">                <span class="variable language_">self</span>.exp = <span class="number">100</span></span><br><span class="line">                <span class="keyword">if</span> weekend:</span><br><span class="line">                        <span class="variable language_">self</span>.inc = <span class="number">1.2</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                        <span class="variable language_">self</span>.inc = <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> child:</span><br><span class="line">                        <span class="variable language_">self</span>.discount = <span class="number">0.5</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                        <span class="variable language_">self</span>.discount = <span class="number">1</span></span><br><span class="line">                        </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">calcPrice</span>(<span class="params">self, num</span>):</span><br><span class="line">                <span class="keyword">return</span> <span class="variable language_">self</span>.exp * <span class="variable language_">self</span>.inc * <span class="variable language_">self</span>.discount * num</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adult = Ticket()</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>child = Ticket(child=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&quot;2个成人 + 1个小孩平日票价为：%.2f&quot;</span> % (adult.calcPrice(<span class="number">2</span>) + child.calcPrice(<span class="number">1</span>)))</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>个成人 + <span class="number">1</span>个小孩平日票价为：<span class="number">250.00</span></span><br></pre></td></tr></table></figure>

<h3 id="1-游戏编程：按以下要求定义一个乌龟类和鱼类并尝试编写游戏。"><a href="#1-游戏编程：按以下要求定义一个乌龟类和鱼类并尝试编写游戏。" class="headerlink" title="1. 游戏编程：按以下要求定义一个乌龟类和鱼类并尝试编写游戏。"></a>1. 游戏编程：按以下要求定义一个乌龟类和鱼类并尝试编写游戏。</h3><p>（初学者不一定可以完整实现，但请务必先自己动手，你会从中学习到很多知识的^_^）</p>
<ul>
<li>假设游戏场景为范围（x, y）为0&lt;&#x3D;x&lt;&#x3D;10，0&lt;&#x3D;y&lt;&#x3D;10</li>
<li>游戏生成1只乌龟和10条鱼</li>
<li>它们的移动方向均随机</li>
<li>乌龟的最大移动能力是2（Ta可以随机选择1还是2移动），鱼儿的最大移动能力是1</li>
<li>当移动到场景边缘，自动向反方向移动</li>
<li>乌龟初始化体力为100（上限）</li>
<li>乌龟每移动一次，体力消耗1</li>
<li>当乌龟和鱼坐标重叠，乌龟吃掉鱼，乌龟体力增加20</li>
<li>鱼暂不计算体力</li>
<li>当乌龟体力值为0（挂掉）或者鱼儿的数量为0游戏结束</li>
</ul>
<p>答：参考代码附详细注释，希望先自己认真完成，你会从中学习到很多知识的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r</span><br><span class="line"></span><br><span class="line">legal_x = [<span class="number">0</span>, <span class="number">10</span>]</span><br><span class="line">legal_y = [<span class="number">0</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Turtle</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 初始体力</span></span><br><span class="line">        <span class="variable language_">self</span>.power = <span class="number">100</span></span><br><span class="line">        <span class="comment"># 初始位置随机</span></span><br><span class="line">        <span class="variable language_">self</span>.x = r.randint(legal_x[<span class="number">0</span>], legal_x[<span class="number">1</span>])</span><br><span class="line">        <span class="variable language_">self</span>.y = r.randint(legal_y[<span class="number">0</span>], legal_y[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">move</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 随机计算方向并移动到新的位置（x, y）</span></span><br><span class="line">        new_x = <span class="variable language_">self</span>.x + r.choice([<span class="number">1</span>, <span class="number">2</span>, -<span class="number">1</span>, -<span class="number">2</span>])</span><br><span class="line">        new_y = <span class="variable language_">self</span>.y + r.choice([<span class="number">1</span>, <span class="number">2</span>, -<span class="number">1</span>, -<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 检查移动后是否超出场景x轴边界</span></span><br><span class="line">        <span class="keyword">if</span> new_x &lt; legal_x[<span class="number">0</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.x = legal_x[<span class="number">0</span>] - (new_x - legal_x[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">elif</span> new_x &gt; legal_x[<span class="number">1</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.x = legal_x[<span class="number">1</span>] - (new_x - legal_x[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.x = new_x</span><br><span class="line">        <span class="comment"># 检查移动后是否超出场景y轴边界</span></span><br><span class="line">        <span class="keyword">if</span> new_y &lt; legal_y[<span class="number">0</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.y = legal_y[<span class="number">0</span>] - (new_y - legal_y[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">elif</span> new_y &gt; legal_y[<span class="number">1</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.y = legal_y[<span class="number">1</span>] - (new_y - legal_y[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.y = new_y        </span><br><span class="line">        <span class="comment"># 体力消耗</span></span><br><span class="line">        <span class="variable language_">self</span>.power -= <span class="number">1</span></span><br><span class="line">        <span class="comment"># 返回移动后的新位置</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="variable language_">self</span>.x, <span class="variable language_">self</span>.y)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.power += <span class="number">20</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.power &gt; <span class="number">100</span>:</span><br><span class="line">            <span class="variable language_">self</span>.power = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fish</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.x = r.randint(legal_x[<span class="number">0</span>], legal_x[<span class="number">1</span>])</span><br><span class="line">        <span class="variable language_">self</span>.y = r.randint(legal_y[<span class="number">0</span>], legal_y[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">move</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 随机计算方向并移动到新的位置（x, y）</span></span><br><span class="line">        new_x = <span class="variable language_">self</span>.x + r.choice([<span class="number">1</span>, -<span class="number">1</span>])</span><br><span class="line">        new_y = <span class="variable language_">self</span>.y + r.choice([<span class="number">1</span>, -<span class="number">1</span>])</span><br><span class="line">        <span class="comment"># 检查移动后是否超出场景x轴边界</span></span><br><span class="line">        <span class="keyword">if</span> new_x &lt; legal_x[<span class="number">0</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.x = legal_x[<span class="number">0</span>] - (new_x - legal_x[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">elif</span> new_x &gt; legal_x[<span class="number">1</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.x = legal_x[<span class="number">1</span>] - (new_x - legal_x[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.x = new_x</span><br><span class="line">        <span class="comment"># 检查移动后是否超出场景y轴边界</span></span><br><span class="line">        <span class="keyword">if</span> new_y &lt; legal_y[<span class="number">0</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.y = legal_y[<span class="number">0</span>] - (new_y - legal_y[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">elif</span> new_y &gt; legal_y[<span class="number">1</span>]:</span><br><span class="line">            <span class="variable language_">self</span>.y = legal_y[<span class="number">1</span>] - (new_y - legal_y[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="variable language_">self</span>.y = new_y</span><br><span class="line">        <span class="comment"># 返回移动后的新位置</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="variable language_">self</span>.x, <span class="variable language_">self</span>.y)</span><br><span class="line"></span><br><span class="line">turtle = Turtle()</span><br><span class="line">fish = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    new_fish = Fish()</span><br><span class="line">    fish.append(new_fish)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">len</span>(fish):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;鱼儿都吃完了，游戏结束！&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> turtle.power:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;乌龟体力耗尽，挂掉了！&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    pos = turtle.move()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 在迭代器中删除列表元素是非常危险的，经常会出现意想不到的问题，因为迭代器是直接引用列表的数据进行引用</span></span><br><span class="line">    <span class="comment"># 这里我们把列表拷贝给迭代器，然后对原列表进行删除操作就不会有问题了^_^</span></span><br><span class="line">    <span class="keyword">for</span> each_fish <span class="keyword">in</span> fish[:]:</span><br><span class="line">        <span class="keyword">if</span> each_fish.move() == pos:</span><br><span class="line">            <span class="comment"># 鱼儿被吃掉了</span></span><br><span class="line">            turtle.eat()</span><br><span class="line">            fish.remove(each_fish)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;有一条鱼儿被吃掉了...&quot;</span>)</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/09/14/hello-world/" data-id="cm11k3dnz0001c8suat7r6uer" data-title="37" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">September 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/09/14/037/">37</a>
          </li>
        
          <li>
            <a href="/2024/09/14/hello-world/">37</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>